// A-I-M-U/date-manipulator v1.1.0 license: MIT
!(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = e())
    : 'function' == typeof define && define.amd
    ? define(e)
    : ((t =
        'undefined' != typeof globalThis ? globalThis : t || self).dateM = e());
})(this, function () {
  'use strict';
  function r(t) {
    return (r =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t &&
              'function' == typeof Symbol &&
              t.constructor === Symbol &&
              t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          })(t);
  }
  function o(t, e) {
    return (o =
      Object.setPrototypeOf ||
      function (t, e) {
        return (t.__proto__ = e), t;
      })(t, e);
  }
  function i(t, e, n) {
    return (i = (function () {
      if (
        'undefined' != typeof Reflect &&
        Reflect.construct &&
        !Reflect.construct.sham
      ) {
        if ('function' == typeof Proxy) return 1;
        try {
          return (
            Date.prototype.toString.call(
              Reflect.construct(Date, [], function () {}),
            ),
            1
          );
        } catch (t) {
          return;
        }
      }
    })()
      ? Reflect.construct
      : function (t, e, n) {
          var r = [null];
          r.push.apply(r, e);
          r = new (Function.bind.apply(t, r))();
          return n && o(r, n.prototype), r;
        }).apply(null, arguments);
  }
  function u(t) {
    return (
      (function (t) {
        if (Array.isArray(t)) return a(t);
      })(t) ||
      (function (t) {
        if ('undefined' != typeof Symbol && Symbol.iterator in Object(t))
          return Array.from(t);
      })(t) ||
      (function (t, e) {
        if (!t) return;
        if ('string' == typeof t) return a(t, e);
        var n = Object.prototype.toString.call(t).slice(8, -1);
        'Object' === n && t.constructor && (n = t.constructor.name);
        if ('Map' === n || 'Set' === n) return Array.from(t);
        if (
          'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        )
          return a(t, e);
      })(t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
        );
      })()
    );
  }
  function a(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  var c = /(dd)|(mm)|(yyyy)|(hh|:mm|ss)|(day)|(month)/gi,
    f = /(hh)|(mm)|(ss)/gi;
  function y(t, e, n) {
    if (t) {
      e = '12' == e || '24' == e ? e : '24';
      var n = [n.getHours(), n.getMinutes(), n.getSeconds()],
        r = n[0],
        o = n[1],
        i = n[2];
      return (
        (t = t.replace(f, function (t) {
          return 'hh' == t
            ? '12' == e && (12 < r || 0 === r)
              ? 0 === r
                ? r + 12
                : r - 12
              : r
            : 'mm' == t
            ? o
            : 'ss' == t
            ? i
            : void 0;
        })),
        '12' == e && (t += 12 < r ? ' PM' : ' AM'),
        t
      );
    }
  }
  var s = {
    days: [
      'Sunday',
      'Monday',
      'Tuesday',
      'Wednesday',
      'Thursday',
      'Friday',
      'Saturday',
    ],
    months: [
      'January',
      'February',
      'March',
      'April',
      'May',
      'June',
      'July',
      'August',
      'September',
      'October',
      'November',
      'December',
    ],
  };
  function n(t, e) {
    var n;
    (this.hFormat =
      'object' === r(e) && null !== (n = e.hFormat) && void 0 !== n ? n : '24'),
      (this.date = i(Date, u(t)));
  }
  (n.prototype.current = function (t) {
    var e,
      n = this;
    if (
      (t.trim(),
      (t = t.toLowerCase()),
      /:/.test(t) && /(dd)|(mm)|(yyyy)/.test(t))
    ) {
      if (!/\s/.test(t))
        return null !== (e = y(t, this.hFormat, this.date)) && void 0 !== e
          ? e
          : t;
      (e = t.slice(0, t.lastIndexOf(' '))),
        (t = t.slice(t.lastIndexOf(' '), t.length));
    } else (e = t), (t = null);
    return (t =
      (e = e.replace(c, function (t) {
        return 'dd' == t
          ? n.date.getDate()
          : 'mm' == t
          ? n.date.getMonth() + 1
          : 'yyyy' == t
          ? n.date.getFullYear()
          : 'day' == t
          ? s.days[n.date.getDay()]
          : 'month' == t
          ? s.months[n.date.getMonth()]
          : void 0;
      })) +
      (null !== (e = y(t, this.hFormat, this.date)) && void 0 !== e ? e : ''));
  }),
    (n.prototype.unixTime = function () {
      return this.date.getTime();
    });
  function t() {
    var t = Array.prototype.slice.call(arguments),
      e = t.pop();
    return 'object' === r(e)
      ? new n(t, e)
      : new n(
          'number' == typeof e || 'string' == typeof e
            ? [].concat(u(t), [e])
            : t,
        );
  }
  return (
    (t.timePassed = function (t, e) {
      return 'object' !== r(t) ||
        'object' !== r(e) ||
        'function' != typeof t.unixTime ||
        'function' != typeof e.unixTime
        ? 0
        : (e.unixTime() - t.unixTime()) / 1e3 / 60 / 60 / 24;
    }),
    t
  );
});
